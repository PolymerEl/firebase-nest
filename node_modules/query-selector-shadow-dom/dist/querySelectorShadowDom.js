var querySelectorShadowDom=function(e){"use strict";function r(e,c,f){var t=f.querySelector(e);return document.head.createShadowRoot||document.head.attachShadow?!c&&t?t:d(e,",").reduce(function(e,t){if(!c&&e)return e;var a,l,i,r=d(t.replace(/^\s+/g,"").replace(/\s*([>+~]+)\s*/g,"$1")," ").filter(function(e){return!!e}),n=r.length-1,o=function(t,e){void 0===t&&(t=null);var o=[];return function e(t){for(var r,n=0;r=t[n];++n)o.push(r),r.shadowRoot&&e(r.shadowRoot.querySelectorAll("*"))}(e.querySelectorAll("*")),t?o.filter(function(e){return e.matches(t)}):o}(r[n],f),u=(a=r,l=n,i=f,function(e){for(var t,r,n=l,o=e,u=!1;o;){var c=o.matches(a[n]);if(c&&0===n){u=!0;break}c&&n--,t=i,r=o.parentNode,o=r&&r.host&&11===r.nodeType?r.host:r===t?null:r}return u});return e=c?e.concat(o.filter(u)):o.find(u)},c?[]:null):c?f.querySelectorAll(e):t}function d(e,r){return e.match(/\\?.|^$/g).reduce(function(e,t){return'"'!==t||e.sQuote?"'"!==t||e.quote?e.quote||e.sQuote||t!==r?e.a[e.a.length-1]+=t:e.a.push(""):(e.sQuote^=1,e.a[e.a.length-1]+=t):(e.quote^=1,e.a[e.a.length-1]+=t),e},{a:[""]}).a}return e.querySelectorAllDeep=function(e,t){return void 0===t&&(t=document),r(e,!0,t)},e.querySelectorDeep=function(e,t){return void 0===t&&(t=document),r(e,!1,t)},e}({});
